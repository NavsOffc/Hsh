<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoDAX - Platform Jual Beli Kripto Indonesia</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #1e3a8a;
            --primary-light: #3b82f6;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1f2937;
            --light: #f8fafc;
            --gray: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary: #1e40af;
            --primary-light: #60a5fa;
            --light: #111827;
            --dark: #f9fafb;
            --gray: #9ca3af;
            --border: #374151;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .logo i {
            font-size: 1.8rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 5px;
        }

        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-family: 'Poppins', sans-serif;
        }

        .btn-primary {
            background-color: var(--primary-light);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid white;
            color: white;
        }

        .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .btn-success {
            background-color: var(--secondary);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        /* Main Content */
        .main-content {
            min-height: calc(100vh - 140px);
            padding: 30px 0;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .page-title {
            margin-bottom: 20px;
            font-size: 1.8rem;
            color: var(--primary);
        }

        /* Home Page */
        .crypto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .crypto-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .crypto-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .crypto-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .crypto-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .crypto-name {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .crypto-symbol {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .crypto-price {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .crypto-change {
            display: flex;
            align-items: center;
            font-weight: 500;
        }

        .positive {
            color: var(--secondary);
        }

        .negative {
            color: var(--danger);
        }

        /* Table Styles */
        .table-container {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: #f9fafb;
            font-weight: 600;
            color: var(--gray);
        }

        tr:hover {
            background-color: #f9fafb;
        }

        /* Auth Pages */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 70vh;
        }

        .auth-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: var(--shadow);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 25px;
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .auth-link {
            text-align: center;
            margin-top: 20px;
        }

        .auth-link a {
            color: var(--primary-light);
            text-decoration: none;
        }

        .auth-link a:hover {
            text-decoration: underline;
        }

        /* Dashboard */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .card-title {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .card-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .chart-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            height: 400px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        /* Wallet Page */
        .wallet-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .wallet-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .wallet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .wallet-actions {
            display: flex;
            gap: 10px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: 10px;
            width: 100%;
            max-width: 500px;
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 30px 0;
            text-align: center;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            nav ul {
                gap: 15px;
            }

            .crypto-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-cards, .wallet-cards {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-coins"></i>
                    <span>CryptoDAX</span>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link active" data-page="home">Beranda</a></li>
                        <li><a href="#" class="nav-link" data-page="market">Market</a></li>
                        <li><a href="#" class="nav-link" data-page="wallet">Wallet</a></li>
                        <li><a href="#" class="nav-link" data-page="profile">Profil</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="btn btn-outline" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="registerBtn">Daftar</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <!-- Home Page -->
            <div id="home" class="page active">
                <h1 class="page-title">Harga Kripto Terkini</h1>
                
                <div class="crypto-grid" id="cryptoGrid">
                    <!-- Crypto cards will be generated by JavaScript -->
                </div>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Aset</th>
                                <th>Harga</th>
                                <th>24h</th>
                                <th>Volume</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="cryptoTable">
                            <!-- Table rows will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Market Page -->
            <div id="market" class="page">
                <h1 class="page-title">Market Kripto</h1>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Aset</th>
                                <th>Harga</th>
                                <th>24h</th>
                                <th>7d</th>
                                <th>Volume</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="marketTable">
                            <!-- Market table rows will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Wallet Page -->
            <div id="wallet" class="page">
                <h1 class="page-title">Wallet & Saldo</h1>
                
                <div class="wallet-cards">
                    <div class="wallet-card">
                        <div class="wallet-header">
                            <div>
                                <div class="card-title">Saldo Rupiah</div>
                                <div class="card-value" id="idrBalance">Rp 0</div>
                            </div>
                            <div class="wallet-actions">
                                <button class="btn btn-primary" id="depositBtn">Deposit</button>
                                <button class="btn btn-outline" id="withdrawBtn">Withdraw</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h2 style="margin: 30px 0 15px;">Aset Kripto Saya</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Aset</th>
                                <th>Jumlah</th>
                                <th>Nilai (IDR)</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="walletAssets">
                            <!-- Wallet assets will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <h2 style="margin: 30px 0 15px;">Riwayat Transaksi</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Tanggal</th>
                                <th>Tipe</th>
                                <th>Jumlah</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="transactionHistory">
                            <!-- Transaction history will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profile" class="page">
                <h1 class="page-title">Profil Pengguna</h1>
                <div class="dashboard-cards">
                    <div class="dashboard-card">
                        <div class="card-title">Total Investasi</div>
                        <div class="card-value" id="totalInvestment">Rp 0</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-title">Profit/Loss</div>
                        <div class="card-value" id="profitLoss">Rp 0</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-title">Aset Tersimpan</div>
                        <div class="card-value" id="totalAssets">0</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="editProfileBtn">Edit Profil</button>
                    <button class="btn btn-danger" id="logoutBtn">Logout</button>
                </div>
            </div>

            <!-- Login Page -->
            <div id="login" class="page">
                <div class="auth-container">
                    <div class="auth-box">
                        <h2 class="auth-title">Login ke CryptoDAX</h2>
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="loginEmail">Email</label>
                                <input type="email" id="loginEmail" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="loginPassword">Password</label>
                                <input type="password" id="loginPassword" class="form-control" required>
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                        </form>
                        <div class="auth-link">
                            <p>Belum punya akun? <a href="#" id="showRegister">Daftar di sini</a></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Register Page -->
            <div id="register" class="page">
                <div class="auth-container">
                    <div class="auth-box">
                        <h2 class="auth-title">Daftar Akun CryptoDAX</h2>
                        <form id="registerForm">
                            <div class="form-group">
                                <label for="registerName">Nama Lengkap</label>
                                <input type="text" id="registerName" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="registerEmail">Email</label>
                                <input type="email" id="registerEmail" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="registerPassword">Password</label>
                                <input type="password" id="registerPassword" class="form-control" required minlength="6">
                            </div>
                            <div class="form-group">
                                <label for="registerConfirmPassword">Konfirmasi Password</label>
                                <input type="password" id="registerConfirmPassword" class="form-control" required>
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">Daftar</button>
                        </form>
                        <div class="auth-link">
                            <p>Sudah punya akun? <a href="#" id="showLogin">Login di sini</a></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboard" class="page">
                <h1 class="page-title">Dashboard</h1>
                
                <div class="dashboard-cards">
                    <div class="dashboard-card">
                        <div class="card-title">Saldo Rupiah</div>
                        <div class="card-value" id="dashboardBalance">Rp 0</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-title">Total Aset</div>
                        <div class="card-value" id="dashboardAssets">Rp 0</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-title">Profit/Loss</div>
                        <div class="card-value" id="dashboardProfit">Rp 0</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="priceChart"></canvas>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-success" id="buyCryptoBtn">Beli Kripto</button>
                    <button class="btn btn-danger" id="sellCryptoBtn">Jual Kripto</button>
                </div>
                
                <h2 style="margin: 30px 0 15px;">Portofolio Saya</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Aset</th>
                                <th>Jumlah</th>
                                <th>Harga Beli</th>
                                <th>Nilai Saat Ini</th>
                                <th>Profit/Loss</th>
                            </tr>
                        </thead>
                        <tbody id="portfolioTable">
                            <!-- Portfolio table will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Deposit Modal -->
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Deposit Rupiah</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="depositForm">
                <div class="form-group">
                    <label for="depositAmount">Jumlah Deposit (Min. Rp 10.000)</label>
                    <input type="number" id="depositAmount" class="form-control" min="10000" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Deposit</button>
            </form>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div class="modal" id="withdrawModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Withdraw Rupiah</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="withdrawForm">
                <div class="form-group">
                    <label for="withdrawAmount">Jumlah Withdraw (Min. Rp 50.000)</label>
                    <input type="number" id="withdrawAmount" class="form-control" min="50000" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Withdraw</button>
            </form>
        </div>
    </div>

    <!-- Buy Crypto Modal -->
    <div class="modal" id="buyCryptoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Beli Kripto</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="buyCryptoForm">
                <div class="form-group">
                    <label for="buyCryptoSelect">Pilih Kripto</label>
                    <select id="buyCryptoSelect" class="form-control" required>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="buyAmount">Jumlah (IDR)</label>
                    <input type="number" id="buyAmount" class="form-control" min="10000" required>
                </div>
                <button type="submit" class="btn btn-success" style="width: 100%;">Beli</button>
            </form>
        </div>
    </div>

    <!-- Sell Crypto Modal -->
    <div class="modal" id="sellCryptoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Jual Kripto</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="sellCryptoForm">
                <div class="form-group">
                    <label for="sellCryptoSelect">Pilih Kripto</label>
                    <select id="sellCryptoSelect" class="form-control" required>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="sellAmount">Jumlah</label>
                    <input type="number" id="sellAmount" class="form-control" min="0.0001" step="0.0001" required>
                </div>
                <button type="submit" class="btn btn-danger" style="width: 100%;">Jual</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2023 CryptoDAX. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Application State
        const appState = {
            currentUser: null,
            cryptoData: [],
            userData: {
                balance: 0,
                assets: {},
                transactions: []
            },
            theme: 'light'
        };

        // Crypto Data (dummy data with initial values)
        const initialCryptoData = [
            { symbol: 'BTC', name: 'Bitcoin', price: 520000000, change24h: 2.5, volume: 1250000000000, icon: '₿' },
            { symbol: 'ETH', name: 'Ethereum', price: 28000000, change24h: -1.2, volume: 580000000000, icon: 'Ξ' },
            { symbol: 'DOGE', name: 'Dogecoin', price: 1200, change24h: 5.8, volume: 12000000000, icon: 'Ð' },
            { symbol: 'USDT', name: 'Tether', price: 15600, change24h: 0.1, volume: 4500000000000, icon: '₮' },
            { symbol: 'SOL', name: 'Solana', price: 1200000, change24h: 3.4, volume: 35000000000, icon: 'S' },
            { symbol: 'XRP', name: 'Ripple', price: 8500, change24h: -0.8, volume: 28000000000, icon: 'X' }
        ];

        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const themeToggle = document.getElementById('themeToggle');
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const showLogin = document.getElementById('showLogin');
        const showRegister = document.getElementById('showRegister');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const logoutBtn = document.getElementById('logoutBtn');
        const depositBtn = document.getElementById('depositBtn');
        const withdrawBtn = document.getElementById('withdrawBtn');
        const depositModal = document.getElementById('depositModal');
        const withdrawModal = document.getElementById('withdrawModal');
        const depositForm = document.getElementById('depositForm');
        const withdrawForm = document.getElementById('withdrawForm');
        const buyCryptoBtn = document.getElementById('buyCryptoBtn');
        const sellCryptoBtn = document.getElementById('sellCryptoBtn');
        const buyCryptoModal = document.getElementById('buyCryptoModal');
        const sellCryptoModal = document.getElementById('sellCryptoModal');
        const buyCryptoForm = document.getElementById('buyCryptoForm');
        const sellCryptoForm = document.getElementById('sellCryptoForm');
        const closeModals = document.querySelectorAll('.close-modal');
        const cryptoGrid = document.getElementById('cryptoGrid');
        const cryptoTable = document.getElementById('cryptoTable');
        const marketTable = document.getElementById('marketTable');
        const walletAssets = document.getElementById('walletAssets');
        const transactionHistory = document.getElementById('transactionHistory');
        const idrBalance = document.getElementById('idrBalance');
        const dashboardBalance = document.getElementById('dashboardBalance');
        const dashboardAssets = document.getElementById('dashboardAssets');
        const dashboardProfit = document.getElementById('dashboardProfit');
        const portfolioTable = document.getElementById('portfolioTable');
        const buyCryptoSelect = document.getElementById('buyCryptoSelect');
        const sellCryptoSelect = document.getElementById('sellCryptoSelect');
        const priceChartCanvas = document.getElementById('priceChart');

        // Initialize Application
        function initApp() {
            // Load theme from localStorage
            const savedTheme = localStorage.getItem('cryptodax-theme');
            if (savedTheme) {
                appState.theme = savedTheme;
                document.body.setAttribute('data-theme', appState.theme);
                updateThemeToggleIcon();
            }

            // Load user data from localStorage
            const savedUser = localStorage.getItem('cryptodax-user');
            if (savedUser) {
                appState.currentUser = JSON.parse(savedUser);
                loadUserData();
                showDashboard();
            } else {
                showHomePage();
            }

            // Initialize crypto data
            appState.cryptoData = [...initialCryptoData];
            updateCryptoDisplay();

            // Set up event listeners
            setupEventListeners();

            // Start price updates
            startPriceUpdates();

            // Initialize chart
            initChart();
        }

        // Set up event listeners
        function setupEventListeners() {
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = e.target.getAttribute('data-page');
                    showPage(page);
                    
                    // Update active nav link
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    e.target.classList.add('active');
                });
            });

            // Auth buttons
            loginBtn.addEventListener('click', () => showPage('login'));
            registerBtn.addEventListener('click', () => showPage('register'));
            showLogin.addEventListener('click', (e) => {
                e.preventDefault();
                showPage('login');
            });
            showRegister.addEventListener('click', (e) => {
                e.preventDefault();
                showPage('register');
            });

            // Auth forms
            loginForm.addEventListener('submit', handleLogin);
            registerForm.addEventListener('submit', handleRegister);
            logoutBtn.addEventListener('click', handleLogout);

            // Wallet actions
            depositBtn.addEventListener('click', () => showModal(depositModal));
            withdrawBtn.addEventListener('click', () => showModal(withdrawModal));
            depositForm.addEventListener('submit', handleDeposit);
            withdrawForm.addEventListener('submit', handleWithdraw);

            // Trade actions
            buyCryptoBtn.addEventListener('click', () => {
                populateCryptoSelect(buyCryptoSelect);
                showModal(buyCryptoModal);
            });
            sellCryptoBtn.addEventListener('click', () => {
                populateCryptoSelect(sellCryptoSelect, true);
                showModal(sellCryptoModal);
            });
            buyCryptoForm.addEventListener('submit', handleBuyCrypto);
            sellCryptoForm.addEventListener('submit', handleSellCrypto);

            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);

            // Close modals
            closeModals.forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.classList.remove('active');
                    });
                });
            });

            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('active');
                }
            });
        }

        // Page Navigation
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        function showHomePage() {
            showPage('home');
            updateHeaderForGuest();
        }

        function showDashboard() {
            showPage('dashboard');
            updateHeaderForUser();
            updateDashboard();
        }

        // Auth Functions
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            // Simple validation
            if (!email || !password) {
                alert('Email dan password harus diisi');
                return;
            }

            // Check if user exists
            const users = JSON.parse(localStorage.getItem('cryptodax-users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                appState.currentUser = user;
                localStorage.setItem('cryptodax-user', JSON.stringify(user));
                loadUserData();
                showDashboard();
                alert('Login berhasil!');
            } else {
                alert('Email atau password salah');
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;

            // Validation
            if (!name || !email || !password || !confirmPassword) {
                alert('Semua field harus diisi');
                return;
            }

            if (password.length < 6) {
                alert('Password harus minimal 6 karakter');
                return;
            }

            if (password !== confirmPassword) {
                alert('Password dan konfirmasi password tidak cocok');
                return;
            }

            // Check if user already exists
            const users = JSON.parse(localStorage.getItem('cryptodax-users') || '[]');
            if (users.find(u => u.email === email)) {
                alert('Email sudah terdaftar');
                return;
            }

            // Create new user
            const newUser = {
                id: Date.now(),
                name,
                email,
                password,
                balance: 0,
                assets: {},
                transactions: []
            };

            users.push(newUser);
            localStorage.setItem('cryptodax-users', JSON.stringify(users));

            appState.currentUser = newUser;
            localStorage.setItem('cryptodax-user', JSON.stringify(newUser));
            loadUserData();
            showDashboard();
            alert('Pendaftaran berhasil!');
        }

        function handleLogout() {
            appState.currentUser = null;
            localStorage.removeItem('cryptodax-user');
            showHomePage();
            alert('Logout berhasil');
        }

        // User Data Management
        function loadUserData() {
            if (!appState.currentUser) return;
            
            const userData = JSON.parse(localStorage.getItem(`cryptodax-userdata-${appState.currentUser.id}`) || '{}');
            appState.userData = {
                balance: userData.balance || 0,
                assets: userData.assets || {},
                transactions: userData.transactions || []
            };
        }

        function saveUserData() {
            if (!appState.currentUser) return;
            localStorage.setItem(`cryptodax-userdata-${appState.currentUser.id}`, JSON.stringify(appState.userData));
        }

        // Wallet Functions
        function handleDeposit(e) {
            e.preventDefault();
            const amount = parseInt(document.getElementById('depositAmount').value);

            if (amount < 10000) {
                alert('Minimal deposit adalah Rp 10.000');
                return;
            }

            appState.userData.balance += amount;
            appState.userData.transactions.push({
                id: Date.now(),
                type: 'deposit',
                amount,
                date: new Date().toISOString(),
                status: 'completed'
            });

            saveUserData();
            updateWalletDisplay();
            updateDashboard();
            depositModal.classList.remove('active');
            depositForm.reset();
            alert(`Deposit berhasil! Saldo Anda sekarang: Rp ${formatCurrency(appState.userData.balance)}`);
        }

        function handleWithdraw(e) {
            e.preventDefault();
            const amount = parseInt(document.getElementById('withdrawAmount').value);

            if (amount < 50000) {
                alert('Minimal withdraw adalah Rp 50.000');
                return;
            }

            if (amount > appState.userData.balance) {
                alert('Saldo tidak mencukupi');
                return;
            }

            appState.userData.balance -= amount;
            appState.userData.transactions.push({
                id: Date.now(),
                type: 'withdraw',
                amount,
                date: new Date().toISOString(),
                status: 'completed'
            });

            saveUserData();
            updateWalletDisplay();
            updateDashboard();
            withdrawModal.classList.remove('active');
            withdrawForm.reset();
            alert(`Withdraw berhasil! Saldo Anda sekarang: Rp ${formatCurrency(appState.userData.balance)}`);
        }

        // Trade Functions
        function handleBuyCrypto(e) {
            e.preventDefault();
            const crypto = document.getElementById('buyCryptoSelect').value;
            const amount = parseInt(document.getElementById('buyAmount').value);

            if (amount < 10000) {
                alert('Minimal pembelian adalah Rp 10.000');
                return;
            }

            if (amount > appState.userData.balance) {
                alert('Saldo tidak mencukupi');
                return;
            }

            const cryptoData = appState.cryptoData.find(c => c.symbol === crypto);
            const cryptoAmount = amount / cryptoData.price;

            // Update user data
            appState.userData.balance -= amount;
            
            if (!appState.userData.assets[crypto]) {
                appState.userData.assets[crypto] = { amount: 0, totalSpent: 0 };
            }
            
            appState.userData.assets[crypto].amount += cryptoAmount;
            appState.userData.assets[crypto].totalSpent += amount;

            appState.userData.transactions.push({
                id: Date.now(),
                type: 'buy',
                crypto,
                amount: cryptoAmount,
                price: cryptoData.price,
                total: amount,
                date: new Date().toISOString()
            });

            saveUserData();
            updateWalletDisplay();
            updateDashboard();
            buyCryptoModal.classList.remove('active');
            buyCryptoForm.reset();
            alert(`Pembelian ${crypto} berhasil!`);
        }

        function handleSellCrypto(e) {
            e.preventDefault();
            const crypto = document.getElementById('sellCryptoSelect').value;
            const amount = parseFloat(document.getElementById('sellAmount').value);

            if (!appState.userData.assets[crypto] || appState.userData.assets[crypto].amount < amount) {
                alert('Jumlah kripto tidak mencukupi');
                return;
            }

            const cryptoData = appState.cryptoData.find(c => c.symbol === crypto);
            const idrAmount = amount * cryptoData.price;

            // Update user data
            appState.userData.balance += idrAmount;
            appState.userData.assets[crypto].amount -= amount;

            // Remove crypto from assets if amount is 0
            if (appState.userData.assets[crypto].amount === 0) {
                delete appState.userData.assets[crypto];
            }

            appState.userData.transactions.push({
                id: Date.now(),
                type: 'sell',
                crypto,
                amount,
                price: cryptoData.price,
                total: idrAmount,
                date: new Date().toISOString()
            });

            saveUserData();
            updateWalletDisplay();
            updateDashboard();
            sellCryptoModal.classList.remove('active');
            sellCryptoForm.reset();
            alert(`Penjualan ${crypto} berhasil!`);
        }

        // Crypto Data Management
        function updateCryptoDisplay() {
            updateCryptoGrid();
            updateCryptoTable();
            updateMarketTable();
        }

        function updateCryptoGrid() {
            cryptoGrid.innerHTML = '';
            
            appState.cryptoData.forEach(crypto => {
                const card = document.createElement('div');
                card.className = 'crypto-card';
                
                const changeClass = crypto.change24h >= 0 ? 'positive' : 'negative';
                const changeIcon = crypto.change24h >= 0 ? '▲' : '▼';
                
                card.innerHTML = `
                    <div class="crypto-header">
                        <div class="crypto-icon">${crypto.icon}</div>
                        <div>
                            <div class="crypto-name">${crypto.name}</div>
                            <div class="crypto-symbol">${crypto.symbol}</div>
                        </div>
                    </div>
                    <div class="crypto-price">Rp ${formatCurrency(crypto.price)}</div>
                    <div class="crypto-change ${changeClass}">
                        ${changeIcon} ${Math.abs(crypto.change24h).toFixed(2)}%
                    </div>
                `;
                
                cryptoGrid.appendChild(card);
            });
        }

        function updateCryptoTable() {
            cryptoTable.innerHTML = '';
            
            appState.cryptoData.forEach(crypto => {
                const row = document.createElement('tr');
                
                const changeClass = crypto.change24h >= 0 ? 'positive' : 'negative';
                const changeIcon = crypto.change24h >= 0 ? '▲' : '▼';
                
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center;">
                            <div class="crypto-icon" style="margin-right: 10px;">${crypto.icon}</div>
                            <div>
                                <div style="font-weight: 600;">${crypto.symbol}</div>
                                <div style="font-size: 0.8rem; color: var(--gray);">${crypto.name}</div>
                            </div>
                        </div>
                    </td>
                    <td>Rp ${formatCurrency(crypto.price)}</td>
                    <td class="${changeClass}">${changeIcon} ${Math.abs(crypto.change24h).toFixed(2)}%</td>
                    <td>Rp ${formatCurrency(crypto.volume)}</td>
                    <td><button class="btn btn-primary" data-symbol="${crypto.symbol}">Trade</button></td>
                `;
                
                cryptoTable.appendChild(row);
            });

            // Add event listeners to trade buttons
            document.querySelectorAll('#cryptoTable .btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (!appState.currentUser) {
                        showPage('login');
                        return;
                    }
                    
                    const symbol = btn.getAttribute('data-symbol');
                    populateCryptoSelect(buyCryptoSelect, false, symbol);
                    showModal(buyCryptoModal);
                });
            });
        }

        function updateMarketTable() {
            marketTable.innerHTML = '';
            
            // Add more crypto for market page
            const marketData = [...appState.cryptoData];
            marketData.push(
                { symbol: 'ADA', name: 'Cardano', price: 4500, change24h: 1.2, change7d: 3.5, volume: 15000000000, icon: 'A' },
                { symbol: 'DOT', name: 'Polkadot', price: 65000, change24h: -2.1, change7d: 1.8, volume: 9000000000, icon: 'D' },
                { symbol: 'LINK', name: 'Chainlink', price: 85000, change24h: 0.5, change7d: -1.2, volume: 5000000000, icon: 'L' },
                { symbol: 'LTC', name: 'Litecoin', price: 900000, change24h: -0.3, change7d: 2.4, volume: 35000000000, icon: 'Ł' },
                { symbol: 'BCH', name: 'Bitcoin Cash', price: 2800000, change24h: 1.8, change7d: 4.2, volume: 25000000000, icon: 'B' }
            );
            
            marketData.forEach(crypto => {
                const row = document.createElement('tr');
                
                const change24hClass = crypto.change24h >= 0 ? 'positive' : 'negative';
                const change24hIcon = crypto.change24h >= 0 ? '▲' : '▼';
                
                const change7d = crypto.change7d !== undefined ? crypto.change7d : (crypto.change24h + (Math.random() * 4 - 2));
                const change7dClass = change7d >= 0 ? 'positive' : 'negative';
                const change7dIcon = change7d >= 0 ? '▲' : '▼';
                
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center;">
                            <div class="crypto-icon" style="margin-right: 10px;">${crypto.icon}</div>
                            <div>
                                <div style="font-weight: 600;">${crypto.symbol}</div>
                                <div style="font-size: 0.8rem; color: var(--gray);">${crypto.name}</div>
                            </div>
                        </div>
                    </td>
                    <td>Rp ${formatCurrency(crypto.price)}</td>
                    <td class="${change24hClass}">${change24hIcon} ${Math.abs(crypto.change24h).toFixed(2)}%</td>
                    <td class="${change7dClass}">${change7dIcon} ${Math.abs(change7d).toFixed(2)}%</td>
                    <td>Rp ${formatCurrency(crypto.volume)}</td>
                    <td><button class="btn btn-primary" data-symbol="${crypto.symbol}">Trade</button></td>
                `;
                
                marketTable.appendChild(row);
            });

            // Add event listeners to trade buttons
            document.querySelectorAll('#marketTable .btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (!appState.currentUser) {
                        showPage('login');
                        return;
                    }
                    
                    const symbol = btn.getAttribute('data-symbol');
                    populateCryptoSelect(buyCryptoSelect, false, symbol);
                    showModal(buyCryptoModal);
                });
            });
        }

        // Dashboard Functions
        function updateDashboard() {
            if (!appState.currentUser) return;
            
            // Update balance
            dashboardBalance.textContent = `Rp ${formatCurrency(appState.userData.balance)}`;
            
            // Calculate total assets value
            let totalAssetsValue = 0;
            let totalSpent = 0;
            
            Object.keys(appState.userData.assets).forEach(symbol => {
                const crypto = appState.cryptoData.find(c => c.symbol === symbol);
                if (crypto) {
                    totalAssetsValue += appState.userData.assets[symbol].amount * crypto.price;
                    totalSpent += appState.userData.assets[symbol].totalSpent;
                }
            });
            
            dashboardAssets.textContent = `Rp ${formatCurrency(totalAssetsValue)}`;
            
            // Calculate profit/loss
            const profitLoss = totalAssetsValue - totalSpent;
            dashboardProfit.textContent = `Rp ${formatCurrency(profitLoss)}`;
            if (dashboardProfit.parentElement) {
                dashboardProfit.parentElement.className = `card-value ${profitLoss >= 0 ? 'positive' : 'negative'}`;
            }
            
            // Update portfolio table
            updatePortfolioTable();
        }

        function updatePortfolioTable() {
            portfolioTable.innerHTML = '';
            
            Object.keys(appState.userData.assets).forEach(symbol => {
                const asset = appState.userData.assets[symbol];
                const crypto = appState.cryptoData.find(c => c.symbol === symbol);
                
                if (crypto) {
                    const currentValue = asset.amount * crypto.price;
                    const profitLoss = currentValue - asset.totalSpent;
                    const profitLossPercent = (profitLoss / asset.totalSpent) * 100;
                    const profitLossClass = profitLoss >= 0 ? 'positive' : 'negative';
                    const profitLossIcon = profitLoss >= 0 ? '▲' : '▼';
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>
                            <div style="display: flex; align-items: center;">
                                <div class="crypto-icon" style="margin-right: 10px;">${crypto.icon}</div>
                                <div>
                                    <div style="font-weight: 600;">${crypto.symbol}</div>
                                    <div style="font-size: 0.8rem; color: var(--gray);">${crypto.name}</div>
                                </div>
                            </div>
                        </td>
                        <td>${asset.amount.toFixed(4)}</td>
                        <td>Rp ${formatCurrency(asset.totalSpent / asset.amount)}</td>
                        <td>Rp ${formatCurrency(currentValue)}</td>
                        <td class="${profitLossClass}">
                            ${profitLossIcon} Rp ${formatCurrency(Math.abs(profitLoss))} (${Math.abs(profitLossPercent).toFixed(2)}%)
                        </td>
                    `;
                    
                    portfolioTable.appendChild(row);
                }
            });
            
            // Show message if no assets
            if (portfolioTable.children.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="5" style="text-align: center; padding: 30px; color: var(--gray);">
                        Anda belum memiliki aset kripto. Mulai berinvestasi dengan menekan tombol "Beli Kripto".
                    </td>
                `;
                portfolioTable.appendChild(row);
            }
        }

        // Wallet Display
        function updateWalletDisplay() {
            if (!appState.currentUser) return;
            
            // Update balance
            idrBalance.textContent = `Rp ${formatCurrency(appState.userData.balance)}`;
            
            // Update assets table
            updateWalletAssets();
            
            // Update transaction history
            updateTransactionHistory();
        }

        function updateWalletAssets() {
            walletAssets.innerHTML = '';
            
            Object.keys(appState.userData.assets).forEach(symbol => {
                const asset = appState.userData.assets[symbol];
                const crypto = appState.cryptoData.find(c => c.symbol === symbol);
                
                if (crypto) {
                    const currentValue = asset.amount * crypto.price;
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>
                            <div style="display: flex; align-items: center;">
                                <div class="crypto-icon" style="margin-right: 10px;">${crypto.icon}</div>
                                <div>
                                    <div style="font-weight: 600;">${crypto.symbol}</div>
                                    <div style="font-size: 0.8rem; color: var(--gray);">${crypto.name}</div>
                                </div>
                            </div>
                        </td>
                        <td>${asset.amount.toFixed(4)}</td>
                        <td>Rp ${formatCurrency(currentValue)}</td>
                        <td>
                            <button class="btn btn-primary" data-symbol="${crypto.symbol}">Trade</button>
                        </td>
                    `;
                    
                    walletAssets.appendChild(row);
                }
            });
            
            // Show message if no assets
            if (walletAssets.children.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="4" style="text-align: center; padding: 30px; color: var(--gray);">
                        Anda belum memiliki aset kripto.
                    </td>
                `;
                walletAssets.appendChild(row);
            }
            
            // Add event listeners to trade buttons
            document.querySelectorAll('#walletAssets .btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const symbol = btn.getAttribute('data-symbol');
                    populateCryptoSelect(sellCryptoSelect, true, symbol);
                    showModal(sellCryptoModal);
                });
            });
        }

        function updateTransactionHistory() {
            transactionHistory.innerHTML = '';
            
            // Show latest 10 transactions
            const recentTransactions = appState.userData.transactions
                .slice(-10)
                .reverse();
            
            recentTransactions.forEach(transaction => {
                const row = document.createElement('tr');
                const date = new Date(transaction.date).toLocaleDateString('id-ID');
                
                let typeText = '';
                let amountText = '';
                
                switch (transaction.type) {
                    case 'deposit':
                        typeText = 'Deposit';
                        amountText = `+ Rp ${formatCurrency(transaction.amount)}`;
                        break;
                    case 'withdraw':
                        typeText = 'Withdraw';
                        amountText = `- Rp ${formatCurrency(transaction.amount)}`;
                        break;
                    case 'buy':
                        typeText = `Beli ${transaction.crypto}`;
                        amountText = `- Rp ${formatCurrency(transaction.total)}`;
                        break;
                    case 'sell':
                        typeText = `Jual ${transaction.crypto}`;
                        amountText = `+ Rp ${formatCurrency(transaction.total)}`;
                        break;
                }
                
                row.innerHTML = `
                    <td>${date}</td>
                    <td>${typeText}</td>
                    <td>${amountText}</td>
                    <td>Selesai</td>
                `;
                
                transactionHistory.appendChild(row);
            });
            
            // Show message if no transactions
            if (transactionHistory.children.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="4" style="text-align: center; padding: 30px; color: var(--gray);">
                        Belum ada transaksi.
                    </td>
                `;
                transactionHistory.appendChild(row);
            }
        }

        // UI Helper Functions
        function updateHeaderForUser() {
            loginBtn.style.display = 'none';
            registerBtn.style.display = 'none';
        }

        function updateHeaderForGuest() {
            loginBtn.style.display = 'inline-block';
            registerBtn.style.display = 'inline-block';
        }

        function showModal(modal) {
            modal.classList.add('active');
        }

        function populateCryptoSelect(selectElement, onlyOwned = false, preselected = null) {
            selectElement.innerHTML = '';
            
            let options = [];
            
            if (onlyOwned) {
                // Only show cryptos that the user owns
                options = Object.keys(appState.userData.assets).map(symbol => {
                    return appState.cryptoData.find(c => c.symbol === symbol);
                }).filter(Boolean);
            } else {
                // Show all cryptos
                options = [...appState.cryptoData];
            }
            
            options.forEach(crypto => {
                const option = document.createElement('option');
                option.value = crypto.symbol;
                option.textContent = `${crypto.symbol} - ${crypto.name}`;
                selectElement.appendChild(option);
            });
            
            // Preselect if specified
            if (preselected) {
                selectElement.value = preselected;
            }
        }

        function toggleTheme() {
            appState.theme = appState.theme === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', appState.theme);
            localStorage.setItem('cryptodax-theme', appState.theme);
            updateThemeToggleIcon();
        }

        function updateThemeToggleIcon() {
            const icon = themeToggle.querySelector('i');
            if (appState.theme === 'light') {
                icon.className = 'fas fa-moon';
            } else {
                icon.className = 'fas fa-sun';
            }
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('id-ID').format(amount);
        }

        // Price Updates (Simulated)
        function startPriceUpdates() {
            setInterval(() => {
                // Update prices with random changes
                appState.cryptoData.forEach(crypto => {
                    const change = (Math.random() * 4 - 2); // -2% to +2%
                    crypto.price = Math.max(1, crypto.price * (1 + change / 100));
                    crypto.change24h = change;
                    crypto.volume = crypto.volume * (1 + (Math.random() * 10 - 5) / 100);
                });
                
                updateCryptoDisplay();
                
                // Update dashboard if user is logged in
                if (appState.currentUser) {
                    updateDashboard();
                    updateWalletDisplay();
                }
            }, 5000); // Update every 5 seconds
        }

        // Chart Initialization
        function initChart() {
            const ctx = priceChartCanvas.getContext('2d');
            
            // Sample data for the chart
            const labels = [];
            const data = [];
            
            let currentPrice = 520000000; // Starting price for BTC
            
            for (let i = 0; i < 24; i++) {
                labels.push(`${i}:00`);
                // Simulate price movement
                currentPrice = currentPrice * (1 + (Math.random() * 2 - 1) / 100);
                data.push(currentPrice);
            }
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Harga Bitcoin (IDR)',
                        data: data,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            callbacks: {
                                label: function(context) {
                                    return `Rp ${formatCurrency(context.parsed.y)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'Rp ' + formatCurrency(value);
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
